<?xml version='1.0' encoding='UTF-8' ?>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet library="primefaces" name="primefaces.css" />
        <title>Budget</title>
    </h:head>
    <h:body>
        
        <h:form class="my-navbar">
            <ui:include src="topMenu.xhtml" />
        </h:form>
        <h3>Budgeting</h3>
        <p:toolbar>
            <f:facet name="right">
                <p:commandButton icon="fa fa-plus" title="Add Budget" action="#{budgetController.beforeCreate()}" styleClass="button-style" update=":budgetForm budgetDialog"
                                 oncomplete="PF('budgetDialogVar').show();" />
            </f:facet>
        </p:toolbar>
        <p:layoutUnit position="center">
            <h:form id="budgetListForm">
                <ui:include src="budgetReport.xhtml"/>
            </h:form>
        </p:layoutUnit>
        <p:dialog id="budgetDialog" widgetVar="budgetDialogVar" header=" #{budgetController.getHeader()}"  modal="true" resizable="false" width="500" height="400">
            <h:form id="budgetForm">
                    <h:panelGrid>
                        <h:outputLabel id="categorylbl" for="category" value="Category:"/>
                        <p:selectOneMenu id="category" value="#{budgetController.budget.category}"  required="true" converter="categoryConverter">
                            <f:selectItem itemLabel="Select Category name"  itemValue= "" />
                            <f:selectItems value="#{budgetController.categoryList}" var="v" itemLabel="#{v.name}" itemValue="#{v}" />
                        </p:selectOneMenu>

                        <h:outputLabel id="amountlbl" for="amount" value="Amount:"  />
                        <p:inputText id="amount" value="#{budgetController.budget.amount}"  required="true"/>

                        <h:outputLabel  id="fromlbl" for="fromDate" value="From Date: " />
                        <p:calendar id="fromDate" value="#{budgetController.budget.fromDate}" showOn="button" pattern="yyyy-MM-dd"  required="true"/>
                        
                        
                        <h:outputLabel  id="tolbl" for="toDate" value="To Date: " />
                        <p:calendar id="toDate" value="#{budgetController.budget.toDate}" showOn="button" pattern="yyyy-MM-dd"  required="true"/>
                        
                        
                            
                        <p:commandButton value="Save"
                                        action="#{budgetController.saveData()}" styleClass="button-style" update=":budgetListForm growl"
                                        oncomplete="PF('budgetDialogVar').hide();" />                         
                    </h:panelGrid>
             </h:form>
           </p:dialog>
        <p:growl id="growl" showDetail="true" sticky="false" life="3000"/>

    </h:body>
</html>
